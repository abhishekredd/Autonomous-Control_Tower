# Test Redis connection
docker-compose exec api python -c "
import redis
try:
    r = redis.Redis.from_url('redis://redis:6379')
    r.ping()
    print('✅ Redis connection successful')
except Exception as e:
    print(f'❌ Redis connection failed: {e}')
"

# Clear Redis cache
docker-compose exec redis redis-cli FLUSHALL